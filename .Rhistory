R.version.string
library(tidyverse)
install.packages('tidyverse')
pwd
getwd()
library('tidyverse')
compiled_path <-'./data/PT_compiled.csv'
compiled_data <- read_csv(compiled_path)
compiled_path <-'/data/PT_compiled.csv'
compiled_data <- read_csv(compiled_path)
getwd()
compiled_path <-'/data/compiled_PT.csv'
compiled_data <- read_csv(compiled_path)
compiled_path <-'./data/compiled_PT.csv'
compiled_data <- read_csv(compiled_path)
head(compiled_data)
View(compiled_data)
print(unique_site_ids)
unique_site_ids <- compiled_data %>%
mutate(site_id = paste(BasinID, WetlandID, sep='-')) %>%
pull(site_id) %>%
unique()
print(unique_site_ids)
unique_site_ids <- compiled_data %>%
mutate(site_id = paste(BasinID, WetlandID, sep='_')) %>%
pull(site_id) %>%
unique()
print(unique_site_ids)
source("qaqc_functions.R")
source("//qaqc_functions.R")
source("//qaqc_functions.R")
source("/qaqc_functions.R")
source("/qaqc_functions.R")
source("./qaqc_functions.R")
source(".scripts/qaqc_functions.R")
source("./scripts/qaqc_functions.R")
test <- fetch_site_ts(path=compiled_data, site_id='13_263')
test <- fetch_site_ts(path=compiled_path, site_id='13_263')
library('tidyverse')
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_PT.csv'
compiled_data <- read_csv(compiled_path)
unique_site_ids <- compiled_data %>%
mutate(site_id = paste(BasinID, WetlandID, sep='_')) %>%
pull(site_id) %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(path=compiled_path, site_id='13_263')
test <- fetch_site_ts(compiled_path=compiled_path, site_id='13_263')
source("./scripts/qaqc_functions.R")
test <- fetch_site_ts(compiled_path=compiled_path, site_id='13_263')
test <- fetch_site_ts(compiled_path=compiled_path, site_id='13_263')
compiled_path <-'./data/compiled_PT.csv'
source("./scripts/qaqc_functions.R")
test <- fetch_site_ts(compiled_path=compiled_path, site_id='13_263')
test <- fetch_site_ts(compiled_path=compiled_path, site_id='13_263')
source("./scripts/qaqc_functions.R")
test <- fetch_site_ts(compiled_path=compiled_path, site_id='13_263')
source("./scripts/qaqc_functions.R")
test <- fetch_site_ts(compiled_path=compiled_path, site_id='13_263')
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_PT.csv'
test <- fetch_site_ts(compiled_path=compiled_path, site_id='13_263')
t2 <- test %>%
mutate(site_id = paste(BasinID, WetlandID, sep='_')) %>%
pull(site_id) %>%
unique()
print(t2)
test <- fetch_site_ts(compiled_path=compiled_path, site_id='13_263')
t2 <- test %>%
mutate(site_id = paste(BasinID, WetlandID, sep='_')) %>%
pull(site_id) %>%
unique()
print(t2)
source("./scripts/qaqc_functions.R")
test <- fetch_site_ts(compiled_path=compiled_path, site_id='13_263')
t2 <- test %>%
mutate(site_id = paste(BasinID, WetlandID, sep='_')) %>%
pull(site_id) %>%
unique()
print(t2)
install.packages('plotly')
head(test)
make_site_ts(test)
source("./scripts/qaqc_functions.R")
library('plotly')
make_site_ts(test)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[10])
make_site_ts(test)
source("./scripts/qaqc_functions.R")
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[10])
make_site_ts(test)
fig <- plot_ly(site_ts, x = ~Date, y= ~PT, type = 'scatter', mode = 'lines')
make_site_ts <- function(site_ts) {
site_id <- site_ts %>%
mutate(site_id = paste(BasinID, WetlandID, sep='_')) %>%
pull(site_id) %>%
unique()
fig <- plot_ly(site_ts, x = ~Date, y= ~PT, type = 'scatter', mode = 'lines')
fig <- fig %>% layout(title = glue("PT Data for {site_id}"))
fig
}
library('tidyverse')
library('plotly')
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_PT.csv'
compiled_data <- read_csv(compiled_path)
unique_site_ids <- compiled_data %>%
mutate(site_id = paste(BasinID, WetlandID, sep='_')) %>%
pull(site_id) %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[10])
make_site_ts(test)
make_site_ts(test)
source("./scripts/qaqc_functions.R")
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[10])
make_site_ts(test)
install.packages("glue")
compiled_path <-'./data/compiled_PT.csv'
compiled_data <- read_csv(compiled_path)
unique_site_ids <- compiled_data %>%
mutate(site_id = paste(BasinID, WetlandID, sep='_')) %>%
pull(site_id) %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[10])
library('tidyverse')
library('plotly')
library('glue')
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_PT.csv'
compiled_data <- read_csv(compiled_path)
unique_site_ids <- compiled_data %>%
mutate(site_id = paste(BasinID, WetlandID, sep='_')) %>%
pull(site_id) %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[10])
make_site_ts(test)
for (i in unique_site_ids) {
make_site_ts(
fetch_site_ts(
compiled_path = compiled_path,
site_id = i
)
)
}
for (i in unique_site_ids) {
ts <- fetch_site_ts(compiled_path=compiled_path, site_id=i)
make_site_ts(ts)
}
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[4])
make_site_ts(test)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[2])
make_site_ts(test)
compiled_path <-'./data/compiled_stage_1.csv'
compiled_data <- read_csv(compiled_path)
View(compiled_data)
print(colnames(compiled_data))
unique_site_ids <- compiled_data %>%
mutate(site_id = paste(BasinID, Wetland_ID, sep='_')) %>%
pull(site_id) %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[2])
print(colnames(test))
print(compiled_data.colnames)
print(colnames(compiled_data))
View(compiled_data)
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_stage_1.csv'
compiled_data <- read_csv(compiled_path)
unique_site_ids <- compiled_data %>%
mutate(site_id = paste(BasinID, Wetland_ID, sep='_')) %>%
pull(site_id) %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[2])
print(unique_site_ids[2])
unique_site_ids <- compiled_data %>%
pull(Wetland_ID) %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[2])
View(test)
data <- read_csv(compiled_path) %>%
filter(Wetland_ID == site_id) %>%
select(c("Wetland_ID", "Date", "PG", "PL", "Water_press", "sensor_depth"))
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_stage_1.csv'
compiled_data <- read_csv(compiled_path)
unique_site_ids <- compiled_data %>%
pull(Wetland_ID) %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[2])
make_site_ts(test)
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_stage_1.csv'
compiled_data <- read_csv(compiled_path)
unique_site_ids <- compiled_data %>%
pull(Wetland_ID) %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[2])
make_site_ts(test, "Water_press")
install.packages('rlang')
library('tidyverse')
library('plotly')
library('glue')
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_stage_1.csv'
compiled_data <- read_csv(compiled_path)
unique_site_ids <- compiled_data %>%
pull(Wetland_ID) %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[2])
make_site_ts(test, "Water_press")
install.packages('readxl')
meta_data_path <- '.data/Wetland_well_metadata_1.xlsx'
unique_wetland_wells <- readxl(meta_data_path, sheet="Wetland_and_well_info")
library('readxl')
meta_data_path <- '.data/Wetland_well_metadata_1.xlsx'
unique_wetland_wells <- readxl(meta_data_path, sheet="Wetland_and_well_info")
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info")
meta_data_path <- './data/Wetland_well_metadata_1.xlsx'
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info")
View(unique_wetland_wells)
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
select('Site_ID') %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[2])
compiled_path <-'./data/compiled_stage_2.xlsx'
meta_data_path <- './data/Wetland_well_metadata_1.xlsx'
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
select('Site_ID') %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[2])
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
select('Site_ID') %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[2])
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
select('Site_ID') %>%
unique()
print(unique_site_ids)
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[2])
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
select('Site_ID') %>%
unique()
print(unique_site_ids)
source("./scripts/qaqc_functions.R")
test <- fetch_site_ts(compiled_path=compiled_path, site_id=unique_site_ids[2])
test <- site_ts_from_xlsx_sheet(compiled_path=compiled_path, site_id=unique_site_ids[2])
source("./scripts/qaqc_functions.R")
s
s
test <- site_ts_from_xlsx_sheet(compiled_path=compiled_path, site_id=unique_site_ids[2])
rm(list=ls())
library('tidyverse')
library('plotly')
library('glue')
library('readxl')
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_stage_2.xlsx'
meta_data_path <- './data/Wetland_well_metadata_1.xlsx'
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
select('Site_ID') %>%
unique()
print(unique_site_ids)
test <- site_ts_from_xlsx_sheet(compiled_path=compiled_path, site_id=unique_site_ids[2])
View(unique_wetland_wells)
print(unique_wetland_wells)
test <- site_ts_from_xlsx_sheet(compiled_path=compiled_path, site_id=unique_site_ids[2])
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
pull('Site') %>%
unique()
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
pull('Site_ID') %>%
unique()
print(unique_wetland_wells)
test <- site_ts_from_xlsx_sheet(compiled_path=compiled_path, site_id=unique_site_ids[2])
test <- site_ts_from_xlsx_sheet(compiled_path=compiled_path, site_id=unique_wetland_ids[2])
test <- site_ts_from_xlsx_sheet(compiled_path=compiled_path, site_id=unique_wetland_wells[2])
make_site_ts(test, "Water_press")
View(test)
print(colnames(test))
test <- site_ts_from_xlsx_sheet(compiled_path=compiled_path, site_id=unique_wetland_wells[2])
source("./scripts/qaqc_functions.R")
test <- site_ts_from_xlsx_sheet(compiled_path=compiled_path, site_id=unique_wetland_wells[2])
make_site_ts(test, "Water_press")
make_site_ts(test, "depth")
site <- unique_wetland_wells[2]
test <- site_ts_from_xlsx_sheet(compiled_path, site)
t2 <- fetch_water_checks(meta_data_path, site)
source("./scripts/qaqc_functions.R")
t2 <- fetch_water_checks(meta_data_path, site)
View(t2)
print(colnames(t2))
fetch_water_checks <- function(meta_path, site_id){
check_history <- read_excel(meta_path, sheet='Wetland_H20_level_history')
check_history <- check_history %>%
filter(Site_ID == site_id)
select_cols <- c(
"Site_ID",
"H20_date_1",
"H20_cm_1",
"H20_date_2",
"H20_cm_2",
"H20_date_3",
"H20_cm_3",
"H20_date_4",
"H20_cm_4",
"H20_date_5",
"H20_cm_5",
"H20_date_6",
"H20_cm_6"
)
check_history <- check_history %>% select(select_cols)
return(check_history)
}
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
pull('Site_ID') %>%
unique()
print(unique_wetland_wells)
site <- unique_wetland_wells[2]
test <- site_ts_from_xlsx_sheet(compiled_path, site)
t2 <- fetch_water_checks(meta_data_path, site)
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_stage_2.xlsx'
meta_data_path <- './data/Wetland_well_metadata_1.xlsx'
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
pull('Site_ID') %>%
unique()
print(unique_wetland_wells)
site <- unique_wetland_wells[2]
test <- site_ts_from_xlsx_sheet(compiled_path, site)
t2 <- fetch_water_checks(meta_data_path, site)
print(t2)
source("./scripts/qaqc_functions.R")
t2 <- fetch_water_checks(meta_data_path, site)
source("./scripts/qaqc_functions.R")
t2 <- fetch_water_checks(meta_data_path, site)
print(t2)
View(t2)
source("./scripts/qaqc_functions.R")
make_site_ts(test, "depth", t2)
rm(list=ls())
library('tidyverse')
library('plotly')
library('glue')
library('readxl')
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_stage_2.xlsx'
meta_data_path <- './data/Wetland_well_metadata_1.xlsx'
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
pull('Site_ID') %>%
unique()
print(unique_wetland_wells)
site <- unique_wetland_wells[2]
test <- site_ts_from_xlsx_sheet(compiled_path, site)
t2 <- fetch_water_checks(meta_data_path, site)
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_stage_2.xlsx'
meta_data_path <- './data/Wetland_well_metadata_1.xlsx'
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
pull('Site_ID') %>%
unique()
print(unique_wetland_wells)
site <- unique_wetland_wells[2]
test <- site_ts_from_xlsx_sheet(compiled_path, site)
t2 <- fetch_water_checks(meta_data_path, site)
make_site_ts(test, "depth", t2)
library('tidyverse')
library('plotly')
library('glue')
library('readxl')
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_stage_2.xlsx'
meta_data_path <- './data/Wetland_well_metadata_1.xlsx'
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
pull('Site_ID') %>%
unique()
print(unique_wetland_wells)
site <- unique_wetland_wells[7]
test <- site_ts_from_xlsx_sheet(compiled_path, site)
t2 <- fetch_water_checks(meta_data_path, site)
make_site_ts(test, "depth", t2)
site <- unique_wetland_wells[1]
test <- site_ts_from_xlsx_sheet(compiled_path, site)
t2 <- fetch_water_checks(meta_data_path, site)
make_site_ts(test, "depth", t2)
site <- unique_wetland_wells[15]
test <- site_ts_from_xlsx_sheet(compiled_path, site)
t2 <- fetch_water_checks(meta_data_path, site)
make_site_ts(test, "depth", t2)
source("./scripts/qaqc_functions.R")
compiled_path <-'./data/compiled_stage_2.xlsx'
meta_data_path <- './data/Wetland_well_metadata_1.xlsx'
unique_wetland_wells <- read_excel(meta_data_path, sheet="Wetland_and_well_info") %>%
pull('Site_ID') %>%
unique()
print(unique_wetland_wells)
site <- unique_wetland_wells[15]
test <- site_ts_from_xlsx_sheet(compiled_path, site)
t2 <- fetch_water_checks(meta_data_path, site)
make_site_ts(test, "depth", t2)
site <- unique_wetland_wells[42]
test <- site_ts_from_xlsx_sheet(compiled_path, site)
t2 <- fetch_water_checks(meta_data_path, site)
make_site_ts(test, "depth", t2)
site <- unique_wetland_wells[50]
test <- site_ts_from_xlsx_sheet(compiled_path, site)
t2 <- fetch_water_checks(meta_data_path, site)
make_site_ts(test, "depth", t2)
